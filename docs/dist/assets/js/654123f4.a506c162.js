"use strict";(self.webpackChunknoco_docs=self.webpackChunknoco_docs||[]).push([[7142],{28453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>d});var r=n(96540);const t={},a=r.createContext(t);function s(e){const i=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(a.Provider,{value:i},e.children)}},71825:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>y,frontMatter:()=>s,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"setup-and-usages/primary-key","title":"Primary Key","description":"Understanding Primary Key in NocoDB!","source":"@site/versioned_docs/version-0.109.7/030.setup-and-usages/100.primary-key.md","sourceDirName":"030.setup-and-usages","slug":"/setup-and-usages/primary-key","permalink":"/0.109.7/setup-and-usages/primary-key","draft":false,"unlisted":false,"editUrl":"https://github.com/nocodb/nocodb/tree/develop/packages/noco-docs/versioned_docs/version-0.109.7/030.setup-and-usages/100.primary-key.md","tags":[],"version":"0.109.7","sidebarPosition":100,"frontMatter":{"title":"Primary Key","description":"Understanding Primary Key in NocoDB!"},"sidebar":"tutorialSidebar","previous":{"title":"Formulas","permalink":"/0.109.7/setup-and-usages/formulas"},"next":{"title":"Display Value","permalink":"/0.109.7/setup-and-usages/display-value"}}');var t=n(74848),a=n(28453);const s={title:"Primary Key",description:"Understanding Primary Key in NocoDB!"},d=void 0,l={},o=[{value:"What is a Primary Key ?",id:"what-is-a-primary-key-",level:2},{value:"What is the use of Primary Key ?",id:"what-is-the-use-of-primary-key-",level:2},{value:"Primary Key in NocoDB",id:"primary-key-in-nocodb",level:2},{value:"What if Primary Key was missing?",id:"what-if-primary-key-was-missing",level:2},{value:"Example : Primary Key &amp; optional system fields during new table creation",id:"example--primary-key--optional-system-fields-during-new-table-creation",level:4},{value:"Example : Show System Fields",id:"example--show-system-fields",level:4},{value:"Can I change the Primary Key to another column within tables ?",id:"can-i-change-the-primary-key-to-another-column-within-tables-",level:2}];function c(e){const i={code:"code",h2:"h2",h4:"h4",li:"li",ol:"ol",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"what-is-a-primary-key-",children:"What is a Primary Key ?"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"A primary key is a special database table column designated to uniquely identify each table record."}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"what-is-the-use-of-primary-key-",children:"What is the use of Primary Key ?"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"As it uniquely identifies an individual record of a table, it is used internally by NocoDB for all operations associated with a record"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"primary-key-in-nocodb",children:"Primary Key in NocoDB"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Primary Key that gets defined / used in NocoDB depends on how underlying table was created. Summary is captured below"}),"\n"]}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["From UI, Create new table / Import from Excel / Import from CSV","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["An ",(0,t.jsx)(i.code,{children:"ID"})," [datatype: Integer] system field created by default during table creation is used as primary key"]}),"\n",(0,t.jsxs)(i.li,{children:["Additional system fields ",(0,t.jsx)(i.code,{children:"created-at"}),", ",(0,t.jsx)(i.code,{children:"updated-at"})," are inserted by default & can be omitted optionally; these fields can be deleted after table creation"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Connect to existing external database","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Existing ",(0,t.jsx)(i.code,{children:"primary key"})," field defined for a table is retained as is; NocoDB doesn't insert a new ID field"]}),"\n",(0,t.jsxs)(i.li,{children:["Additional system fields ",(0,t.jsx)(i.code,{children:"created-at"}),", ",(0,t.jsx)(i.code,{children:"updated-at"})," are not inserted by default"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Import from Airtable","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Airtable record ID is marked as primary key for imported records, and is mapped to field ",(0,t.jsx)(i.code,{children:"ncRecordId"}),"  [datatype: varchar]"]}),"\n",(0,t.jsx)(i.li,{children:"If a new record is inserted after migration & if ncRecordId field was omitted during record insertion - auto generated string will be inserted by NocoDB"}),"\n",(0,t.jsxs)(i.li,{children:["Computed hash value for the entire record is stored in system field ",(0,t.jsx)(i.code,{children:"ncRecordHash"})]}),"\n",(0,t.jsxs)(i.li,{children:["Additional system fields ",(0,t.jsx)(i.code,{children:"created-at"}),", ",(0,t.jsx)(i.code,{children:"updated-at"})," are not inserted by default"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Create new table using SDK / API","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["No default primary key field is introduced by NocoDB. It has to be explicitly specified during table creation (using attribute ",(0,t.jsx)(i.code,{children:"pk: true"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"what-if-primary-key-was-missing",children:"What if Primary Key was missing?"}),"\n",(0,t.jsx)(i.p,{children:"It is possible to have a table without any primary key."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"External database table can be created without primary key configuration."}),"\n",(0,t.jsx)(i.li,{children:"New table can be created using SDK / API without primary key\nIn such scenario's, new records can be created in NocoDB for this table, but records can't be updated or deleted [as there is now way for NocoDB to uniquely identify these records]"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"example--primary-key--optional-system-fields-during-new-table-creation",children:"Example : Primary Key & optional system fields during new table creation"}),"\n",(0,t.jsx)("img",{width:"596",alt:"image",src:"https://user-images.githubusercontent.com/35857179/189113679-481bceab-8957-4c5d-a38c-9940f03cfd7e.png"}),"\n",(0,t.jsx)(i.h4,{id:"example--show-system-fields",children:"Example : Show System Fields"}),"\n",(0,t.jsx)("img",{width:"309",alt:"image",src:"https://user-images.githubusercontent.com/35857179/189113907-871f7ab0-9bb2-4f04-a726-2d9feb56892e.png"}),"\n",(0,t.jsx)(i.h2,{id:"can-i-change-the-primary-key-to-another-column-within-tables-",children:"Can I change the Primary Key to another column within tables ?"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["You can't update Primary Key from NocoDB UI. You can reconfigure it at database level directly & trigger ",(0,t.jsx)(i.code,{children:"meta sync"})," explicitly."]}),"\n"]})]})}function y(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);